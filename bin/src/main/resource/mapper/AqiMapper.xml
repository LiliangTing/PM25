<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.liliangliang.PM25.dao.AqiDAO">

	<resultMap type="MapData" id="MapDataMap">

		<result property="name" column="area" />
		<result property="value" column="aqi" />
	</resultMap>
	<sql id="insertSql">
		aqi,
		area,
		co,
		co_24h,
		no2,
		no2_24h,
		o3,
		o3_24h,
		o3_8h,
		o3_8h_24h,
		pm10,
		pm10_24h,
		pm2_5,
		pm2_5_24h,
		position_name,
		primary_pollutant,
		quality,
		so2,
		so2_24h,
		station_code,
		time_point
	</sql>
	<insert id="insertList">
		insert into aqi(
		<include refid="insertSql" />
		)values
		<foreach item="a" collection="list" separator=",">
			(#{a.aqi},
			#{a.area} ,
			#{a.co},
			#{a.co_24h} ,
			#{a.no2} ,
			#{a.no2_24h},
			#{a.o3},
			#{a.o3_24h} ,
			#{a.o3_8h},
			#{a.o3_8h_24h} ,
			#{a.pm10} ,
			#{a.pm10_24h},
			#{a.pm2_5},
			#{a.pm2_5_24h},
			#{a.position_name},
			#{a.primary_pollutant},
			#{a.quality},
			#{a.so2},
			#{a.so2_24h} ,
			#{a.station_code} ,
			#{a.time_point})
		</foreach>

	</insert>

	<insert id="insert">
		insert into aqi(
		<include refid="insertSql" />
		)values
		( #{aqi},
		#{area} ,
		#{co},
		#{co_24h} ,
		#{no2} ,
		#{no2_24h},
		#{o3},
		#{o3_24h} ,
		#{o3_8h},
		#{o3_8h_24h} ,
		#{pm10} ,
		#{pm10_24h},
		#{pm2_5},
		#{pm2_5_24h},
		#{position_name},
		#{primary_pollutant},
		#{quality},
		#{so2},
		#{so2_24h} ,
		#{station_code} ,
		#{time_point}
		)
	</insert>
	<select id="getNow" resultType="Aqi">
		call now_data();
	</select>
	<!-- 获取地图数据 -->
	<select id="getMapData" resultMap="MapDataMap">
		call now_data();
	</select>
</mapper>